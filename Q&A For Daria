from telegram import Update
from telegram.ext import Application, MessageHandler, filters, CallbackContext

BOT_TOKEN = "8279418201:AAHZmz6RSvOe1p2t0iOZai59mNauZVp-8zw"
ADMIN_ID = "625058687"
CHANNEL = "@d_kashirskaya"

async def start_command(update: Update, context: CallbackContext):
    await update.message.reply_text("Напишите Ваш вопрос")

async def forward_question(update: Update, context: CallbackContext):
    if update.message.text and update.message.text.startswith('/'):
        return
        
    await context.bot.forward_message(ADMIN_ID, update.message.chat_id, update.message.message_id)
    
    await update.message.reply_text(
        "Ваш вопрос получен, я отвечу на него в порядке очереди в рубрике «вопрос-ответ» на канале @d_kashirskaya. ✅\n\n"
        "Если у вас есть еще вопросы — можете написать их здесь."
    )

app = Application.builder().token(BOT_TOKEN).build()
app.add_handler(MessageHandler(filters.COMMAND & filters.Regex("start"), start_command))
app.add_handler(MessageHandler(filters.ALL & ~filters.COMMAND, forward_question))
app.run_polling()
